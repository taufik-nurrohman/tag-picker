<!DOCTYPE html>
<html dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta content="#000" name="theme-color">
    <meta content="width=device-width" name="viewport">
    <meta content="Better tags input interaction with JavaScript." name="description">
    <title>Tag Picker 3.1.15</title>
    <link href="index.min.css" rel="stylesheet">
    <style>
      * {
        box-sizing: border-box;
      }
      :root {
        background: #fff;
        color: #000;
        border-top: 4px solid;
        font: normal normal 16px/1.25 serif;
      }
      a {
        color: #009;
        text-decoration: none;
      }
      a,
      code {
        word-wrap: break-word;
      }
      code {
        font-family: monospace;
        font-size: 80%;
      }
      footer,
      header,
      main,
      nav {
        max-width: 700px;
        margin: 0 auto;
      }
      hr {
        border: 0;
        color: inherit;
        border-top: 1px dashed;
        height: 0;
      }
      pre {
        white-space: pre-wrap;
        word-wrap: break-word;
      }
      pre code {
        display: block;
        background: #eee;
        padding: 1em;
      }
      table {
        width: 100%;
      }
      td,
      th {
        text-align: left;
        vertical-align: top;
      }
      body > p:first-child {
        background: #ffa;
        border: 1px dashed;
        margin-top: 0;
        padding: .75em 1em;
      }
    </style>
  </head>
  <body>
    <p>Do you like this project? Please support my <a href="https://github.com/mecha-cms">Mecha CMS</a> project too. Thank you!</p>
    <header>
      <h1>Tag Picker 3.1.15</h1>
      <p>Tag Picker is a simple JavaScript application that aims to provide better experience for users in adding and removing comma-separated list of words.</p>
      <hr>
    </header>
    <main>
      <p>Tags are comma-separated list of words. This application has support for hooks, so you can listen to events that occur at each interaction to provide additional features. Each tag item can also be selected using the arrow keys and a mouse click to perform actions on the selected tag, for example, to delete the tag.</p>
      <form method="get" target="_blank">
        <p><input id="tags" name="tags" placeholder="foo, bar, baz" type="text" value="foo, bar"></p>
        <p>Test connection with <code>&lt;label&gt;</code> element: <label for="tags" style="cursor:pointer;text-decoration:underline;">click here to focus!</label></p>
        <p>Test add and remove methods: <a href="javascript:void(picker.set('wow').focus());">add &ldquo;wow&rdquo;</a> <a href="javascript:void(picker.let('wow').focus());">remove &ldquo;wow&rdquo;</a></p>
        <p><button type="submit">Submit</button></p>
      </form>
      <h2>Features</h2>
      <ul>
        <li>Light-weight, no dependencies. It uses vanilla JavaScript.</li>
        <li>Simple <abbr title="Application Programming Interface">API</abbr>. Easy to master.</li>
        <li>Care about accessibility. Interacts very well using the keyboard keys. Free from the focus traps.</li>
      </ul>
      <h2>Usage</h2>
      <h3>Browser</h3>
      <p>With the basic knowledge of accessing the DOM and manipulating it using JavaScript, you can use this application like a pro.</p>
      <pre><code>&lt;!DOCTYPE html&gt;
&lt;html dir="ltr"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;link href="<a href="index.min.css" target="_blank">./index.min.css</a>" rel="stylesheet"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;&lt;input type="text"&gt;&lt;/p&gt;
    &lt;script src="<a href="index.min.js" target="_blank">./index.min.js</a>"&gt;&lt;/script&gt;
    &lt;script&gt;
    const picker = new TP(document.querySelector('input'));
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
      <h3>Node.js</h3>
      <p>Functions and methods in this application are mostly native JavaScript and are intended for use by the browser. Node.js doesn&rsquo;t know about the DOM, so this kind of practice will probably be used more often to build new browser packages than to be used directly in the Node.js server.</p>
      <h4>CommonJS</h4>
      <pre><code>const TP = require('@taufik-nurrohman/tag-picker');

const picker = new TP(document.querySelector('input'));</code></pre>
      <h4>ECMAScript</h4>
      <pre><code>import TP from '@taufik-nurrohman/tag-picker';

const picker = new TP(document.querySelector('input'));</code></pre>
      <h2>Examples</h2>
      <ul>
        <li><a href="test.html" target="_blank">No Idea?</a></li>
        <li><a href="test/value.html" target="_blank">Set Pre-Defined Value</a></li>
        <li><a href="test/placeholder.html" target="_blank">Set Placeholder</a></li>
        <li><a href="test/focus.html" target="_blank">Focus State</a></li>
        <li><a href="tweak/focus.placeholder.html" target="_blank">Hide Placeholder on Focus</a></li>
        <li><a href="test/disabled.html" target="_blank">Disabled Input</a></li>
        <li><a href="test/readonly.html" target="_blank">Read-Only Input</a></li>
        <li><a href="test/min.html" target="_blank">Limit Minimum Tags</a></li>
        <li><a href="test/max.html" target="_blank">Limit Maximum Tags</a></li>
        <li><a href="test/x.html" target="_blank">Enable &ldquo;Remove&rdquo; Button</a></li>
        <li><a href="test/paste.html" target="_blank">Paste Event</a></li>
        <li><a href="tweak/alert.html" target="_blank">Warn for Duplicate Tags with Alert Message</a></li>
        <li><a href="tweak/mark.html" target="_blank">Warn for Duplicate Tags with Flash Highlight</a></li>
        <li><a href="test/escape.html" target="_blank">Disable Characters with <code>picker.state.escape</code></a></li>
        <li><a href="test/f.html" target="_blank">Filter Characters with <code>picker.f()</code> Method</a></li>
        <li><a href="tweak/path.html" target="_blank">Directory</a> (Experiment)</li>
      </ul>
      <h2>Settings</h2>
      <table border="1">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>source</code></td>
            <td>The text input element.</td>
          </tr>
          <tr>
            <td><code>join</code></td>
            <td>Tags joiner for the output value.</td>
          </tr>
          <tr>
            <td><code>state</code></td>
            <td>The configuration data.</td>
          </tr>
          <tr>
            <td><code>state.escape</code></td>
            <td>List of characters used to trigger the tag addition.</td>
          </tr>
          <tr>
            <td><code>state.join</code></td>
            <td>Tags joiner for the output value.</td>
          </tr>
          <tr>
            <td><code>state.max</code></td>
            <td>Maximum tags allowed.</td>
          </tr>
          <tr>
            <td><code>state.min</code></td>
            <td>Minimum tags allowed.</td>
          </tr>
          <tr>
            <td><code>state.x</code></td>
            <td>Set to <code>true</code> to show the &ldquo;remove&rdquo; button.</td>
          </tr>
        </tbody>
      </table>
      <pre><code>const picker = new TP(<var>source</var>, <var>join</var> = ', ');</code></pre>
      <pre><code>const picker = new TP(<var>source</var>, <var>state</var> = {
    escape: [','],
    join: ', ',
    max: 9999,
    min: 0,
    x: false
});</code></pre>
      <h2>Methods and Properties</h2>
      <h3>TP.instances</h3>
      <p>Return the application instances.</p>
      <pre><code>for (let key in TP.instances) {
    console.log(key);
    console.log(TP.instances[key]);
}</code></pre>
      <h3>TP.state</h3>
      <p>This property stores the initial values of <code>picker.state</code>.</p>
      <pre><code>const picker = new TP({
    foo: ['bar', 'baz', 'qux']
});

console.log([TP.state, picker.state]);</code></pre>
      <h3>TP.version</h3>
      <p>Return the application version.</p>
      <pre><code>let version = TP.version,
    major = version.split('.')[0];

if (+major &lt; 3) { &hellip; }</code></pre>
      <h3>picker.blur()</h3>
      <p>Blur from the content-editable element.</p>
      <h3>picker.click()</h3>
      <p>Click the content-editable element.</p>
      <h3>picker.f(tag)</h3>
      <p>Set custom tag name filter.</p>
      <pre><code>// Force lower-case letter(s) and trim white-space(s)
picker.f = tag =&gt; (tag || "").toLowerCase().trim();</code></pre>
      <h3>picker.focus()</h3>
      <p>Focus to the content-editable element.</p>
      <h3>picker.get(tag)</h3>
      <p>Check the existence of a tag.</p>
      <pre><code>if (null !== picker.get('foo')) { &hellip; }</code></pre>
      <h3>picker.input</h3>
      <p>Return the content-editable element.</p>
      <pre><code>picker.input.addEventListener('paste', () =&gt; {
    // Handle `paste` event here
});</code></pre>
      <h3>picker.let(tag)</h3>
      <p>Remove a tag.</p>
      <pre><code>picker.let('foo'); // Remove `foo` tag</code></pre>
      <h3>picker.output</h3>
      <p>Alias for <code>picker.source</code> property.</p>
      <h3>picker.pop()</h3>
      <p>Convert the tag picker element back to its original <code>&lt;input&gt;</code> element.</p>
      <h3>picker.self</h3>
      <p>Return the tag picker element.</p>
      <pre><code>picker.self.style.borderWidth = '4px';</code></pre>
      <h3>picker.set(tag, index)</h3>
      <p>Add a new tag.</p>
      <pre><code>picker.set('foo'); // Append a `foo` tag
picker.set('foo', 1); // Insert a `foo` tag exactly at index `1`</code></pre>
      <h3>picker.source</h3>
      <p>Return the <code>&lt;input&gt;</code> element.</p>
      <pre><code>console.log(picker.source);</code></pre>
      <h3>picker.state</h3>
      <p>Return the modified tag picker states.</p>
      <h3>picker.tags</h3>
      <p>Return the tags data as array.</p>
      <pre><code>console.log(picker.tags);</code></pre>
      <h3>picker.value(tags)</h3>
      <p>Add multiple tags at once.</p>
      <pre><code>picker.value('foo, bar, baz'); // Add `foo`, `bar` and `baz`
picker.value(""); // Remove all tag(s)</code></pre>
      <h2>Hooks</h2>
      <table border="1">
        <thead>
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>blur</code></td>
            <td>Will be triggered after release focus on the tag editor.</td>
          </tr>
          <tr>
            <td><code>blur.tag</code></td>
            <td>Will be triggered after release focus on a tag item.</td>
          </tr>
          <tr>
            <td><code>change</code></td>
            <td>Will be triggered on every time the tags data is updated.</td>
          </tr>
          <tr>
            <td><code>click</code></td>
            <td>Will be triggered after click on the tag editor.</td>
          </tr>
          <tr>
            <td><code>click.tag</code></td>
            <td>Will be triggered after click on a tag item.</td>
          </tr>
          <tr>
            <td><code>focus</code></td>
            <td>Will be triggered after focus on the tag editor.</td>
          </tr>
          <tr>
            <td><code>focus.tag</code></td>
            <td>Will be triggered after focus on a tag item.</td>
          </tr>
          <tr>
            <td><code>get.tag</code></td>
            <td>Will be triggered after <code>picker.get('foo')</code>.</td>
          </tr>
          <tr>
            <td><code>has.tag</code></td>
            <td>Will be triggered if the tag you want to add already exists.</td>
          </tr>
          <tr>
            <td><code>let.tag</code></td>
            <td>Will be triggered after <code>picker.let('foo')</code>.</td>
          </tr>
          <tr>
            <td><code>max.tags</code></td>
            <td>Will be triggered if number of tags you want to submit is greater than the <code>picker.state.max</code> value.</td>
          </tr>
          <tr>
            <td><code>min.tags</code></td>
            <td>Will be triggered if number of tags you want to submit is less than the <code>picker.state.min</code> value.</td>
          </tr>
          <tr>
            <td><code>pop</code></td>
            <td>Will be triggered after <code>picker.pop()</code>.</td>
          </tr>
          <tr>
            <td><code>set.tag</code></td>
            <td>Will be triggered after <code>picker.set('foo')</code>.</td>
          </tr>
        </tbody>
      </table>
      <h3>picker.fire(event, data)</h3>
      <p>Trigger a hook.</p>
      <pre><code>picker.fire('change', [picker.tags]);</code></pre>
      <h3>picker.hooks</h3>
      <p>Return the added hooks.</p>
      <pre><code>console.log(picker.hooks);</code></pre>
      <h3>picker.off(event, then)</h3>
      <p>Remove a hook.</p>
      <pre><code>picker.off('change');</code></pre>
      <pre><code>picker.off('change', onChange); // With context</code></pre>
      <h3>picker.on(event, then)</h3>
      <p>Add a new hook.</p>
      <pre><code>picker.on('change', tags =&gt; {
    console.log(tags);
});</code></pre>
      <pre><code>function onChange(tags) {
    console.log(tags);
}

picker.on('change', onChange); // With context</code></pre>
      <h2>License</h2>
      <p>Use it for free, pay if you get paid. So, you&rsquo;ve just benefited financially after using this project? It&rsquo;s a good idea to <a href="https://paypal.me/tatautaufik" target="_blank">share a little financial support</a> with this open source project too. Your support will motivate me to do any further development, as well as to provide voluntary support to overcome problems related to this project.</p>
      <p>Thank you! ❤️</p>
    </main>
    <footer>
      <hr>
      <p>&copy; 2021 <a href="/">Taufik Nurrohman</a></p>
    </footer>
    <script src="index.min.js"></script>
    <script>
      const picker = new TP(document.forms[0].tags);
      picker.on('has.tag', tag => {
          alert('Tag “' + tag + '” already exists.');
      });
    </script>
  </body>
</html>